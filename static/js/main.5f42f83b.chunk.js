(this.webpackJsonpmolochui=this.webpackJsonpmolochui||[]).push([[0],{136:function(e,t,n){e.exports=n.p+"static/media/bull.204229a6.png"},415:function(e,t,n){e.exports=n.p+"static/media/1pondo.6e945499.png"},445:function(e,t,n){e.exports=n(818)},461:function(e,t){},463:function(e,t){},484:function(e,t){},487:function(e,t){},563:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"processingReward","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"memberAddress","type":"address"},{"name":"proposalIndex","type":"uint256"}],"name":"getMemberProposalVote","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getCurrentPeriod","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"members","outputs":[{"name":"delegateKey","type":"address"},{"name":"shares","type":"uint256"},{"name":"exists","type":"bool"},{"name":"highestIndexYesVote","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSharesRequested","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newDelegateKey","type":"address"}],"name":"updateDelegateKey","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalShares","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"proposalQueue","outputs":[{"name":"proposer","type":"address"},{"name":"applicant","type":"address"},{"name":"sharesRequested","type":"uint256"},{"name":"startingPeriod","type":"uint256"},{"name":"yesVotes","type":"uint256"},{"name":"noVotes","type":"uint256"},{"name":"processed","type":"bool"},{"name":"didPass","type":"bool"},{"name":"aborted","type":"bool"},{"name":"tokenTribute","type":"uint256"},{"name":"details","type":"string"},{"name":"maxTotalSharesAtYesVote","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"memberAddressByDelegateKey","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"gracePeriodLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"abortWindow","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getProposalQueueLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"summoningTime","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"votingPeriodLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"sharesToBurn","type":"uint256"}],"name":"ragequit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"proposalDeposit","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"startingPeriod","type":"uint256"}],"name":"hasVotingPeriodExpired","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"applicant","type":"address"},{"name":"tokenTribute","type":"uint256"},{"name":"sharesRequested","type":"uint256"},{"name":"details","type":"string"}],"name":"submitProposal","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"proposalIndex","type":"uint256"},{"name":"uintVote","type":"uint8"}],"name":"submitVote","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"highestIndexYesVote","type":"uint256"}],"name":"canRagequit","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"guildBank","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"dilutionBound","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"periodDuration","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"approvedToken","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"proposalIndex","type":"uint256"}],"name":"abort","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"proposalIndex","type":"uint256"}],"name":"processProposal","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"summoner","type":"address"},{"name":"_approvedToken","type":"address"},{"name":"_periodDuration","type":"uint256"},{"name":"_votingPeriodLength","type":"uint256"},{"name":"_gracePeriodLength","type":"uint256"},{"name":"_abortWindow","type":"uint256"},{"name":"_proposalDeposit","type":"uint256"},{"name":"_dilutionBound","type":"uint256"},{"name":"_processingReward","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"proposalIndex","type":"uint256"},{"indexed":true,"name":"delegateKey","type":"address"},{"indexed":true,"name":"memberAddress","type":"address"},{"indexed":true,"name":"applicant","type":"address"},{"indexed":false,"name":"tokenTribute","type":"uint256"},{"indexed":false,"name":"sharesRequested","type":"uint256"}],"name":"SubmitProposal","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"proposalIndex","type":"uint256"},{"indexed":true,"name":"delegateKey","type":"address"},{"indexed":true,"name":"memberAddress","type":"address"},{"indexed":false,"name":"uintVote","type":"uint8"}],"name":"SubmitVote","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"proposalIndex","type":"uint256"},{"indexed":true,"name":"applicant","type":"address"},{"indexed":true,"name":"memberAddress","type":"address"},{"indexed":false,"name":"tokenTribute","type":"uint256"},{"indexed":false,"name":"sharesRequested","type":"uint256"},{"indexed":false,"name":"didPass","type":"bool"}],"name":"ProcessProposal","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"memberAddress","type":"address"},{"indexed":false,"name":"sharesToBurn","type":"uint256"}],"name":"Ragequit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"proposalIndex","type":"uint256"},{"indexed":false,"name":"applicantAddress","type":"address"}],"name":"Abort","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"memberAddress","type":"address"},{"indexed":false,"name":"newDelegateKey","type":"address"}],"name":"UpdateDelegateKey","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"summoner","type":"address"},{"indexed":false,"name":"shares","type":"uint256"}],"name":"SummonComplete","type":"event"}]')},564:function(e){e.exports=JSON.parse('[{"constant":false,"inputs":[{"name":"sharesToBurn","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newKeepers","type":"address[]"}],"name":"addKeepers","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"currentProposalIndex","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"moloch","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalPoolShares","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"initialTokens","type":"uint256"},{"name":"initialPoolShares","type":"uint256"}],"name":"activate","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"sharesToBurn","type":"uint256"},{"name":"recipient","type":"address"}],"name":"keeperWithdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"toIndex","type":"uint256"}],"name":"sync","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"tokenAmount","type":"uint256"}],"name":"deposit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"approvedToken","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"donors","outputs":[{"name":"shares","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"keepersToRemove","type":"address[]"}],"name":"removeKeepers","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_moloch","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"currentProposalIndex","type":"uint256"}],"name":"Sync","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"donor","type":"address"},{"indexed":false,"name":"sharesMinted","type":"uint256"},{"indexed":false,"name":"tokensDeposited","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"donor","type":"address"},{"indexed":false,"name":"sharesBurned","type":"uint256"}],"name":"Withdraw","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"donor","type":"address"},{"indexed":false,"name":"sharesBurned","type":"uint256"},{"indexed":false,"name":"keeper","type":"address"}],"name":"KeeperWithdraw","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"donor","type":"address"},{"indexed":false,"name":"addedKeepers","type":"address[]"}],"name":"AddKeepers","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"donor","type":"address"},{"indexed":false,"name":"removedKeepers","type":"address[]"}],"name":"RemoveKeepers","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"sharesToMint","type":"uint256"},{"indexed":false,"name":"recipient","type":"address"},{"indexed":false,"name":"totalPoolShares","type":"uint256"}],"name":"SharesMinted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"sharesToBurn","type":"uint256"},{"indexed":false,"name":"recipient","type":"address"},{"indexed":false,"name":"totalPoolShares","type":"uint256"}],"name":"SharesBurned","type":"event"}]')},565:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"guy","type":"address"},{"name":"wad","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"src","type":"address"},{"name":"dst","type":"address"},{"name":"wad","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"wad","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"dst","type":"address"},{"name":"wad","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"deposit","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"src","type":"address"},{"indexed":true,"name":"guy","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"src","type":"address"},{"indexed":true,"name":"dst","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"dst","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"src","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Withdrawal","type":"event"}]')},566:function(e){e.exports=JSON.parse('[{"constant":false,"inputs":[{"name":"owner_","type":"address"}],"name":"setOwner","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"","type":"bytes32"}],"name":"poke","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"poke","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"compute","outputs":[{"name":"","type":"bytes32"},{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"wat","type":"address"}],"name":"set","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"wat","type":"address"}],"name":"unset","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"indexes","outputs":[{"name":"","type":"bytes12"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"next","outputs":[{"name":"","type":"bytes12"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"read","outputs":[{"name":"","type":"bytes32"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"peek","outputs":[{"name":"","type":"bytes32"},{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes12"}],"name":"values","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"min_","type":"uint96"}],"name":"setMin","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"authority_","type":"address"}],"name":"setAuthority","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"void","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"pos","type":"bytes12"},{"name":"wat","type":"address"}],"name":"set","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"authority","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"pos","type":"bytes12"}],"name":"unset","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"next_","type":"bytes12"}],"name":"setNext","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"min","outputs":[{"name":"","type":"uint96"}],"payable":false,"type":"function"},{"anonymous":true,"inputs":[{"indexed":true,"name":"sig","type":"bytes4"},{"indexed":true,"name":"guy","type":"address"},{"indexed":true,"name":"foo","type":"bytes32"},{"indexed":true,"name":"bar","type":"bytes32"},{"indexed":false,"name":"wad","type":"uint256"},{"indexed":false,"name":"fax","type":"bytes"}],"name":"LogNote","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"authority","type":"address"}],"name":"LogSetAuthority","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"}],"name":"LogSetOwner","type":"event"}]')},817:function(e,t,n){},818:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(81),o=n.n(s),l=n(11),i=n.n(l),c=n(25),u=n(32),m=n(116),d=n(117),p=n(163),b=n(161),f=n(165),y=n(20),g=n(139),h=n(841),E=n(141),v=n(843),x=n(21),w=n.n(x),k=n(31),P=n(98),O=n(27),S=n(388),A=n(850),C=n(432),j=n(835),N=n(845),I=n(830),M=n(437),V=function(){return r.a.createElement("div",{id:"background"},r.a.createElement("div",{className:"blurred_image"}),r.a.createElement("div",{className:"dark_overlay"}))},F=n(839),R=n(84),D=n(836),T=n(820),_=n(847);function B(){var e=Object(y.a)(["\n  mutation SetAttributes(\n    $status: String!\n    $title: String!\n    $description: String!\n    $gracePeriod: Number!\n    $votingEnds: Number!\n    $votingStarts: Number!\n    $readyForProcessing: Bool!\n  ) {\n    setAttributes(\n      status: $status\n      title: $title\n      description: $description\n      gracePeriod: $gracePeriod\n      votingEnds: $votingEnds\n      votingStarts: $votingStarts\n      readyForProcessing: $readyForProcessing\n    ) @client {\n      status\n      title\n      description\n      gracePeriod\n      votingEnds\n      votingStarts\n      readyForProcessing\n    }\n  }\n"]);return B=function(){return e},e}function U(){var e=Object(y.a)(["\n  query Proposal($id: String!) {\n    proposal(id: $id) {\n      id\n      applicantAddress\n      memberAddress\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      yesVotes\n      noVotes\n      proposalIndex\n      votes(first: 100) {\n        member {\n          id\n          shares\n        }\n        uintVote\n      }\n      details\n      startingPeriod\n      processed\n      status @client\n      title @client\n      description @client\n      gracePeriod @client\n      votingEnds @client\n      votingStarts @client\n      readyForProcessing @client\n    }\n  }\n"]);return U=function(){return e},e}function q(){var e=Object(y.a)(["\n  {\n    proposals(first: 1, where: { processed: true }, orderBy: proposalIndex, orderDirection: desc) {\n      proposalIndex\n    }\n  }\n"]);return q=function(){return e},e}function L(){var e=Object(y.a)(["\n  query Proposals($id: String!) {\n    votes(first: 100, where: { memberAddress: $id }) {\n      uintVote\n      proposal {\n        id\n        timestamp\n        tokenTribute\n        sharesRequested\n        processed\n        didPass\n        aborted\n        yesVotes\n        noVotes\n        proposalIndex\n        details\n        startingPeriod\n        processed\n        status @client\n        title @client\n        description @client\n        gracePeriod @client\n        votingEnds @client\n        votingStarts @client\n        readyForProcessing @client\n      }\n    }\n  }\n"]);return L=function(){return e},e}function K(){var e=Object(y.a)(["\n  {\n    proposals(\n      first: 100\n      orderBy: proposalIndex\n      orderDirection: desc\n      where: { processed: true }\n    ) {\n      id\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      yesVotes\n      noVotes\n      proposalIndex\n      votes(first: 100) {\n        member {\n          shares\n        }\n        uintVote\n      }\n      details\n      startingPeriod\n      processed\n      status @client\n      title @client\n      description @client\n      gracePeriod @client\n      votingEnds @client\n      votingStarts @client\n      readyForProcessing @client\n    }\n  }\n"]);return K=function(){return e},e}function $(){var e=Object(y.a)(["\n  {\n    proposals(\n      first: 100\n      orderBy: proposalIndex\n      orderDirection: desc\n      where: { processed: false }\n    ) {\n      id\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      yesVotes\n      noVotes\n      proposalIndex\n      votes(first: 100) {\n        member {\n          shares\n        }\n        uintVote\n      }\n      details\n      startingPeriod\n      processed\n      status @client\n      title @client\n      description @client\n      gracePeriod @client\n      votingEnds @client\n      votingStarts @client\n      readyForProcessing @client\n    }\n  }\n"]);return $=function(){return e},e}function H(){var e=Object(y.a)(["\n  {\n    proposals(first: 100) {\n      id\n    }\n  }\n"]);return H=function(){return e},e}function W(){var e=Object(y.a)(["\n  {\n    members(first: 100, where: { shares_gt: 0, isActive: true }) {\n      id\n      shares\n      isActive\n      tokenTribute\n      delegateKey\n    }\n  }\n"]);return W=function(){return e},e}function z(){var e=Object(y.a)(["\n  query Member($address: String!) {\n    member(id: $address) {\n      id\n      shares\n      isActive\n      tokenTribute\n      delegateKey\n      votes {\n        uintVote\n        proposal {\n          id\n          timestamp\n          tokenTribute\n          sharesRequested\n          processed\n          didPass\n          aborted\n          yesVotes\n          noVotes\n          proposalIndex\n          details\n          status @client\n          title @client\n          description @client\n          gracePeriod @client\n          votingEnds @client\n          votingStarts @client\n          readyForProcessing @client\n        }\n      }\n    }\n  }\n"]);return z=function(){return e},e}function Q(){var e=Object(y.a)(["\n  query Member($delegateKey: String!) {\n    members(where: { delegateKey: $delegateKey }) {\n      id\n      shares\n      isActive\n      tokenTribute\n      delegateKey\n    }\n  }\n"]);return Q=function(){return e},e}function G(){var e=Object(y.a)(["\n  query PoolMember($address: String!) {\n    poolMember(id: $address) {\n      id\n      shares\n      keepers\n    }\n  }\n"]);return G=function(){return e},e}function J(){var e=Object(y.a)(["\n  query Metadata {\n    poolMembers(first: 100, orderBy: shares, orderDirection: desc) {\n      id\n      shares\n      keepers\n    }\n  }\n"]);return J=function(){return e},e}function Z(){var e=Object(y.a)(["\n  query Member($address: String!) {\n    member(id: $address) {\n      id\n      shares\n      isActive\n      tokenTribute\n      delegateKey\n    }\n  }\n"]);return Z=function(){return e},e}function Y(){var e=Object(y.a)(["\n  query Metadata {\n    totalPoolShares @client\n    poolValue @client\n    exchangeRate @client\n  }\n"]);return Y=function(){return e},e}function X(){var e=Object(y.a)(["\n  query Metadata {\n    exchangeRate @client\n    totalShares @client\n    guildBankValue @client\n    currentPeriod @client\n    proposalQueueLength @client\n  }\n"]);return X=function(){return e},e}function ee(){var e=Object(y.a)(["\n  query CurrentPeriod {\n    currentPeriod @client\n  }\n"]);return ee=function(){return e},e}function te(){var e=Object(y.a)(["\n  query ShareValue {\n    shareValue @client\n  }\n"]);return te=function(){return e},e}function ne(){var e=Object(y.a)(["\n  query GuildBankValue {\n    guildBankValue @client\n  }\n"]);return ne=function(){return e},e}function ae(){var e=Object(y.a)(["\n  query TotalShares {\n    totalShares @client\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(y.a)(["\n  query ExchangeRate {\n    exchangeRate @client\n  }\n"]);return re=function(){return e},e}w()(re()),w()(ae()),w()(ne()),w()(te()),w()(ee());var se,oe,le,ie,ce,ue=w()(X()),me=(w()(Y()),w()(Z())),de=(w()(J()),w()(G())),pe=(w()(Q()),w()(z()),w()(W())),be=(w()(H()),w()($()),w()(K()),w()(L()),w()(q()),w()(U()),w()(B()),n(433)),fe=n(23),ye=n(563),ge=n(564),he=n(565),Ee=n(566);function ve(e,t){return xe.apply(this,arguments)}function xe(){return(xe=Object(c.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("gnosis"!==localStorage.getItem("loginType")){e.next=6;break}return e.next=4,Se(t);case 4:e.next=8;break;case 6:return e.next=8,Pe(t,n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getNetwork();case 2:if(n=e.sent,console.log("network: ",n),1===n.chainId){e.next=7;break}return alert("Please set Web3 provider to Mainnet and try again."),e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(c.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum||window.web3||alert("Web3 not detected."),a="",!window.ethereum){e.next=14;break}return e.next=5,window.ethereum.enable();case 5:return r=window.ethereum||window.web3.currentProvider,ce=new fe.ethers.providers.Web3Provider(r),e.next=9,we(ce);case 9:if(!e.sent){e.next=14;break}return localStorage.setItem("loginType","metamask"),e.next=13,ce.listAccounts();case 13:a=e.sent[0].toLowerCase();case 14:return t&&n!==a&&(t.writeData({data:{loggedInUser:a}}),window.localStorage.setItem("loggedInUser",a)),e.abrupt("return",ce);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(c.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new be.a({rpcUrl:"https://mainnet.infura.io/v3/0d95263c871942eca1056bd0faf65e2b"}),a="",ce=new fe.ethers.providers.Web3Provider(n),e.next=5,we(ce);case 5:if(!e.sent){e.next=10;break}return localStorage.setItem("loginType","gnosis"),e.next=9,ce.listAccounts();case 9:a=e.sent[0].toLowerCase();case 10:t.writeData({data:{loggedInUser:a}}),window.localStorage.setItem("loggedInUser",a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(){return je.apply(this,arguments)}function je(){return(je=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce){e.next=14;break}if("metamask"!==localStorage.getItem("loginType")){e.next=7;break}return e.next=4,Pe();case 4:ce=e.sent,e.next=14;break;case 7:if("gnosis"!==localStorage.getItem("loginType")){e.next=13;break}return e.next=10,Se();case 10:ce=e.sent,e.next=14;break;case 13:throw new Error("Not logged in with web3.");case 14:return e.abrupt("return",ce);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,Ce();case 3:ce=e.sent,se=new fe.ethers.Contract("0xA49378Ff39518F2A6fdCcDB5cE7d63711a3FaF99",ye,ce.getSigner()),e.next=9;break;case 7:n=fe.ethers.getDefaultProvider(),se=new fe.ethers.Contract("0xA49378Ff39518F2A6fdCcDB5cE7d63711a3FaF99",ye,n);case 9:return e.abrupt("return",se);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,Ce();case 3:ce=e.sent,oe=new fe.ethers.Contract("0xAce85C64D7a89A1fe6d9c9926a761B64EdF9295b",ge,ce.getSigner()),e.next=9;break;case 7:n=fe.ethers.getDefaultProvider(),oe=new fe.ethers.Contract("0xAce85C64D7a89A1fe6d9c9926a761B64EdF9295b",ge,n);case 9:return e.abrupt("return",oe);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,Ce();case 3:ce=e.sent,le=new fe.ethers.Contract("0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",he,ce.getSigner()),e.next=9;break;case 7:n=fe.ethers.getDefaultProvider(),le=new fe.ethers.Contract("0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",he,n);case 9:return e.abrupt("return",le);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){return Te.apply(this,arguments)}function Te(){return(Te=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=fe.ethers.getDefaultProvider(),ie=new fe.ethers.Contract("0x729D19f657BD0614b4985Cf1D82531c67569197B",Ee,t),e.abrupt("return",ie);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){return Be.apply(this,arguments)}function Be(){return(Be=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(t);case 2:return e.abrupt("return",se);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){return qe.apply(this,arguments)}function qe(){return(qe=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(t);case 2:return e.abrupt("return",oe);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(t);case 2:return e.abrupt("return",le);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(){return He.apply(this,arguments)}function He(){return(He=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ie){e.next=3;break}return e.next=3,De();case 3:return e.abrupt("return",ie);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e){window.toastProvider.addMessage("Confirm transaction using wallet..."),e.then(function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("tx: ",t),window.toastProvider.removeMessage(),window.toastProvider.addMessage("Transaction submitted!",{secondaryMessage:"Check progress on Etherscan",actionHref:"https://etherscan.io/tx/".concat(t.hash),actionText:"Check",variant:"processing"}),e.next=5,t.wait();case 5:console.log("Tx wait complete"),window.toastProvider.removeMessage(),window.toastProvider.addMessage("Transaction Confirmed!",{secondaryMessage:"View on Etherscan",actionHref:"https://etherscan.io/tx/".concat(t.hash),actionText:"View",variant:"success"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("e: ",e),window.toastProvider.removeMessage(),window.toastProvider.addMessage("Error",{secondaryMessage:"Error occurred while processing transaction. Please try again later.",variant:"failure"})}))}var ze=n(59);function Qe(){var e=Object(y.a)(["\n  query PoolMembers($address: String!) {\n    poolMember(id: $address) {\n      id\n      shares\n      keepers\n    }\n  }\n"]);return Qe=function(){return e},e}var Ge=Object(_.a)((function(e){var t=e._handleOpenDropdown,n=e.onLoadApproveWeth,a=e.member,s=e._handleCloseDropdown,o=e.onLoadChangeDelegateKey,l=e.onLoadWithdrawLootToken,u=e.onLoadWithdrawPoolToken,m=e.client,d=e.poolMember;return r.a.createElement("div",{className:"dropdownItems"},r.a.createElement(F.a.Item,{icon:"settings",className:"item",content:"wETH Center",onClick:function(){t(),n()}}),r.a.createElement(F.a.Divider,null),a&&a.isActive?r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a.Item,{className:"item",onClick:function(){return s()}},r.a.createElement(k.b,{to:"/members/".concat(a.id),className:"link"},r.a.createElement("p",null,r.a.createElement(R.a,{name:"user"}),"View Profile"))),r.a.createElement(F.a.Divider,null),r.a.createElement(F.a.Item,{icon:"key",className:"item",content:"Change Delegate Key",onClick:function(){t(),o()}}),r.a.createElement(F.a.Divider,null),r.a.createElement(F.a.Item,{icon:"dollar",className:"item",content:"Ragequit",onClick:function(){t(),l()}}),r.a.createElement(F.a.Divider,null)):r.a.createElement(r.a.Fragment,null),d&&d.shares>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a.Item,{icon:"dollar",className:"item",content:"Withdraw Pool Shares",onClick:function(){t(),u()}}),r.a.createElement(F.a.Divider,null)):r.a.createElement(r.a.Fragment,null),r.a.createElement(F.a.Item,{className:"item"},r.a.createElement(k.b,{to:"/login",className:"link",onClick:Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(),window.localStorage.setItem("loggedInUser",""),e.next=4,m.resetStore();case 4:window.location.reload();case 5:case"end":return e.stop()}}),e)})))},r.a.createElement("p",null,r.a.createElement(R.a,{name:"power off"}),"Sign Out"))))})),Je=function(e){var t=e.moloch,n=e.onLoadMain,s=Object(a.useState)(""),o=Object(u.a)(s,2),l=o[0],i=o[1],c=Object(a.useCallback)((function(){console.log("Sending moloch.updateDelegateKey(".concat(l,")")),We(t.updateDelegateKey(l))}),[l,t]);return r.a.createElement("div",null,r.a.createElement(F.a.Item,{icon:"arrow left",className:"item",content:"Back to Menu",onClick:function(){return n()}}),r.a.createElement(F.a.Divider,null),r.a.createElement(F.a.Item,{className:"item submenu"},r.a.createElement("p",null,r.a.createElement(R.a,{name:"key"}),"Change Delegate Key"),r.a.createElement(D.a.Input,{placeholder:"Enter new key address",onChange:function(e){return i(e.target.value)},value:l}),r.a.createElement(T.a,{onClick:c},"Save")))},Ze=function(e){var t=e.moloch,n=e.member,s=e.onLoadMain,o=Object(a.useState)(""),l=Object(u.a)(o,2),i=l[0],c=l[1],m=Object(a.useCallback)((function(){console.log("Sending moloch.ragequit(".concat(i,")")),We(t.ragequit(i))}),[i,t]);return r.a.createElement("div",null,r.a.createElement(F.a.Item,{icon:"arrow left",className:"item",content:"Back to Menu",onClick:function(){return s()}}),r.a.createElement(F.a.Divider,null),r.a.createElement(F.a.Item,{className:"item submenu"},r.a.createElement("p",null,r.a.createElement(R.a,{name:"dollar"}),"Ragequit"),"".concat(n.shares," Shares Available"),r.a.createElement(D.a.Input,{placeholder:"Number of shares",onChange:function(e){return c(e.target.value)},value:i}),r.a.createElement(T.a,{onClick:m},"Withdraw")))},Ye=function(e){var t=e.pool,n=e.poolMember,s=e.onLoadMain,o=Object(a.useState)(""),l=Object(u.a)(o,2),i=l[0],c=l[1],m=Object(a.useCallback)((function(){console.log("Sending moloch.ragequit(".concat(i,")")),We(t.withdraw(i))}),[i,t]);return r.a.createElement("div",null,r.a.createElement(F.a.Item,{icon:"arrow left",className:"item",content:"Back to Menu",onClick:function(){return s()}}),r.a.createElement(F.a.Divider,null),r.a.createElement(F.a.Item,{className:"item submenu"},r.a.createElement("p",null,r.a.createElement(R.a,{name:"dollar"}),"Withdraw"),"".concat(n.shares," Shares Available"),r.a.createElement(D.a.Input,{placeholder:"Number of shares",onChange:function(e){return c(e.target.value)},value:i}),r.a.createElement(T.a,{onClick:m},"Withdraw")))};function Xe(e){var t=e.token,n=e.eth,s=e.onLoadMain,o=e.loggedInUser,l=Object(a.useState)(""),m=Object(u.a)(l,2),d=m[0],p=m[1],b=Object(a.useState)(""),f=Object(u.a)(b,2),y=f[0],g=f[1],h=Object(a.useState)(""),E=Object(u.a)(h,2),v=E[0],x=E[1],w=Object(a.useState)("..."),k=Object(u.a)(w,2),P=k[0],O=k[1],S=Object(a.useState)("..."),A=Object(u.a)(S,2),C=A[0],j=A[1],N=Object(a.useCallback)((function(){console.log("Approving wETH: ","0xA49378Ff39518F2A6fdCcDB5cE7d63711a3FaF99",fe.utils.parseEther(d).toString()),We(t.approve("0xA49378Ff39518F2A6fdCcDB5cE7d63711a3FaF99",fe.utils.parseEther(d)))}),[d,t]),I=Object(a.useCallback)((function(){console.log("Approving wETH: ","0xAce85C64D7a89A1fe6d9c9926a761B64EdF9295b",fe.utils.parseEther(d).toString()),We(t.approve("0xAce85C64D7a89A1fe6d9c9926a761B64EdF9295b",fe.utils.parseEther(d)))}),[d,t]),M=Object(a.useCallback)((function(){console.log("Wrapping ETH: ","0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",fe.utils.parseEther(y).toString()),We(t.deposit({value:fe.utils.parseEther(y)}))}),[y,t]),V=Object(a.useCallback)((function(){console.log("Unwrapping wETH: ","0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",fe.utils.parseEther(v).toString()),We(t.withdraw(fe.utils.parseEther(v)))}),[v,t]);return Object(a.useEffect)((function(){function e(){return(e=Object(c.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=5;break}return e.next=3,t.balanceOf(o);case 3:n=e.sent,O(parseFloat(Object(ze.formatEther)(n)).toFixed(2));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,o]),Object(a.useEffect)((function(){function e(){return(e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=5;break}return e.next=3,n.getBalance(o);case 3:t=e.sent,j(parseFloat(Object(ze.formatEther)(t)).toFixed(2));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a.Item,{icon:"arrow left",className:"item",content:"Back to Menu",onClick:function(){return s()}}),r.a.createElement(F.a.Divider,null),r.a.createElement(F.a.Item,{className:"item submenu"},r.a.createElement("p",null,r.a.createElement(R.a,{name:"settings"}),"wETH Center"),r.a.createElement(D.a.Input,{placeholder:"".concat(P," wETH available"),onChange:function(e){return p(e.target.value)},value:d}),r.a.createElement(T.a.Group,null,r.a.createElement(T.a,{onClick:N},"Approve Moloch"),r.a.createElement(T.a,{onClick:I},"Approve Pool")),r.a.createElement(D.a.Input,{placeholder:"".concat(C," ETH available"),onChange:function(e){return g(e.target.value)},value:y}),r.a.createElement(T.a,{onClick:M},"Wrap"),r.a.createElement(D.a.Input,{placeholder:"".concat(P," wETH available"),onChange:function(e){return x(e.target.value)},value:v}),r.a.createElement(T.a.Group,null,r.a.createElement(T.a,{onClick:V},"Unwrap"))))}var et=w()(Qe()),tt=function(e){var t=e.loggedInUser,n=e.client,s=Object(a.useState)(!1),o=Object(u.a)(s,2),l=o[0],m=o[1],d=Object(a.useState)("main"),p=Object(u.a)(d,2),b=p[0],f=p[1],y=Object(a.useState)({}),h=Object(u.a)(y,2),E=h[0],v=h[1],x=Object(a.useState)({}),w=Object(u.a)(x,2),P=w[0],O=w[1],S=Object(a.useState)({}),A=Object(u.a)(S,2),C=A[0],j=A[1],N=Object(a.useState)({}),V=Object(u.a)(N,2),D=V[0],T=V[1];Object(a.useEffect)((function(){function e(){return(e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=v,e.next=3,_e(t);case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=O,e.next=8,Le(t);case 8:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=T,e.next=13,Ue(t);case 13:if(e.t5=e.sent,(0,e.t4)(e.t5),!t){e.next=21;break}return e.t6=j,e.next=19,Ce();case 19:e.t7=e.sent,(0,e.t6)(e.t7);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var _=function(){return m(!0)},B=function(){return m(!1)},U=function(){var e=Object(c.a)(i.a.mark((function e(a){var r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("metamask"!==a){e.next=6;break}return e.next=3,Pe(n);case 3:r=e.sent,e.next=13;break;case 6:if("gnosis"!==a){e.next=12;break}return e.next=9,Se(n);case 9:r=e.sent,e.next=13;break;case 12:throw new Error("Unsupported Web3 login method");case 13:if(r){e.next=15;break}return e.abrupt("return");case 15:return j(r),e.next=18,_e(t);case 18:s=e.sent,v(s);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=Object(g.b)(me,{variables:{address:t}}),L=q.loading,K=q.error,$=q.data,H=Object(g.b)(et,{variables:{address:t}}),W=H.loading,z=H.error,Q=H.data;if(L||W)return r.a.createElement(I.a,{active:!0});if(K||z)throw new Error("Error!: ".concat(K," ").concat(z));return r.a.createElement("div",{id:"header"},r.a.createElement(M.a,{columns:3,stackable:!0,verticalAlign:"middle"},r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement("a",{href:"https://twitter.com/dao_meme",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(R.a,{name:"twitter",size:"big"})),r.a.createElement("a",{href:"https://weibo.com/memedao",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(R.a,{name:"weibo",size:"big"})),r.a.createElement("a",{href:"https://github.com/memedao",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(R.a,{name:"github",size:"big"})),r.a.createElement("a",{href:"mailto:h4x3rotab@gmail.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(R.a,{name:"envelope outline",size:"big"}))),r.a.createElement(M.a.Column,{textAlign:"center",className:"logo"},r.a.createElement(k.b,{to:"/"},"\u4e00\u672cDAO")),r.a.createElement(M.a.Column,{textAlign:"center",className:"dropdown"},r.a.createElement(F.a,{className:"right_dropdown",open:l,onBlur:function(){return B()},onFocus:function(){return _()},text:t?"".concat(t.substring(0,6),"..."):"Web3 Login"},r.a.createElement(F.a.Menu,{className:"menu blurred",direction:"left"},function(e,n){var a;if(t)switch(b){case"main":a=r.a.createElement(Ge,{member:e,poolMember:n,_handleOpenDropdown:function(){return _()},_handleCloseDropdown:function(){return B()},onLoadChangeDelegateKey:function(){return f("changeDelegateKey")},onLoadWithdrawLootToken:function(){return f("withdrawLootToken")},onLoadWithdrawPoolToken:function(){return f("withdrawPoolToken")},onLoadApproveWeth:function(){return f("approveWeth")}});break;case"changeDelegateKey":a=r.a.createElement(Je,{onLoadMain:function(){_(),f("main")},moloch:E});break;case"withdrawLootToken":a=r.a.createElement(Ze,{onLoadMain:function(){_(),f("main")},moloch:E,member:e});break;case"withdrawPoolToken":a=r.a.createElement(Ye,{onLoadMain:function(){_(),f("main")},pool:D,poolMember:n});break;case"approveWeth":a=r.a.createElement(Xe,{onLoadMain:function(){_(),f("main")},token:P,eth:C,loggedInUser:t})}else a=r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a.Item,{icon:"user",className:"item",content:"Log In With Metamask",onClick:function(){return U("metamask")}}),r.a.createElement(F.a.Divider,null),r.a.createElement(F.a.Item,{icon:"user",className:"item",content:"Log In With Gnosis Safe",onClick:function(){return U("gnosis")}}));return a}($.member,Q.poolMember))))))},nt=n(436),at=n(842),rt=n(414),st=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2});function ot(e,t){var n=fe.utils.formatEther(e),a=fe.utils.formatEther(t);return st.format(parseFloat(n*a))}function lt(e,t){return Object(ze.bigNumberify)(e).gt(0)?Object(ze.bigNumberify)(t).div(Object(ze.bigNumberify)(e)):0}var it=n(415),ct=n.n(it);function ut(){var e=Object(y.a)(["\n  {\n    poolValue @client\n    exchangeRate @client\n    totalShares @client\n    guildBankValue @client\n  }\n"]);return ut=function(){return e},e}var mt=w()(ut()),dt=function(){var e=Object(g.b)(mt),t=e.loading,n=e.error,a=e.data;if(t)return r.a.createElement(I.a,{size:"massive",active:!0});if(n)throw new Error(n);var s=a.guildBankValue,o=a.exchangeRate,l=a.totalShares,i=(a.poolValue,lt(l,s));return console.log("metadata: ",a),r.a.createElement("div",{id:"homepage"},r.a.createElement(M.a,{verticalAlign:"middle",textAlign:"center"},r.a.createElement(M.a.Row,null,r.a.createElement(nt.a,{src:ct.a,id:"main-logo"})),r.a.createElement(M.a.Row,null,r.a.createElement(M.a,{doubling:!0,stackable:!0,columns:"equal",verticalAlign:"bottom"},r.a.createElement(M.a.Column,null,r.a.createElement(M.a.Row,{className:"guild_value",textAlign:"center"},r.a.createElement(at.a,{inverted:!0},r.a.createElement(at.a.Label,null,"Guild Bank Value"),r.a.createElement(at.a.Value,null,ot(s,o))))))),r.a.createElement(M.a.Row,{className:"mt-5"},r.a.createElement(M.a,{stackable:!0,columns:3},r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement(at.a,{inverted:!0,label:"Total Shares",size:"tiny",value:l})),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement(at.a,{inverted:!0,label:"Total ETH",size:"tiny",value:parseFloat(fe.utils.formatEther(s)).toFixed(0)})),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement(at.a,{inverted:!0,label:"Share Value",size:"tiny",value:ot(i,o)})))),r.a.createElement(M.a.Row,{className:"mt-3"},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("p",null,r.a.createElement("a",{className:"text_link",href:"https://github.com/memedao/whitepaper/blob/master/%E4%B8%80%E6%9C%ACDAO%EF%BC%8C%E4%B8%80%E7%A7%8D%E7%82%B9%E5%AF%B9%E7%82%B9%E7%9A%84%E5%90%90%E6%A7%BD%E7%B3%BB%E7%BB%9F.pdf"},"Whitepaper / \u767d\u76ae\u4e66")),r.a.createElement("p",null,r.a.createElement("a",{className:"text_link",href:"https://etherscan.io/address/0xA49378Ff39518F2A6fdCcDB5cE7d63711a3FaF99"},"Contract / \u5408\u7ea6")))),r.a.createElement(M.a.Row,null,r.a.createElement(rt.a,{sourceType:"profile",screenName:"dao_meme",theme:"dark",noHeader:!0,noFooter:!0,options:{height:600,width:600}}))))},pt=n(832),bt=n(265),ft=n(164),yt=n(846),gt=n(73),ht=n.n(gt),Et=n(136),vt=n.n(Et),xt=n(94),wt=n.n(xt),kt=n(831),Pt=function(e){var t=e.yes,n=e.no,a=(t=parseInt(t))+(n=parseInt(n)),s=0===t?0:Math.round(t/a*100),o=0===n?0:Math.round(n/a*100);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(kt.a,{percent:s+o,color:"red",size:"small",style:{position:"absolute",top:"0",width:"100%"},className:0===n?"hide-bar":""}),r.a.createElement(kt.a,{percent:s,color:"green",size:"small",className:0===t?"hide-bar":""})),r.a.createElement(M.a,{columns:"equal"},r.a.createElement(M.a.Column,{floated:"left"},t," Yes Votes"),r.a.createElement(M.a.Column,{floated:"right",textAlign:"right"},n," No Votes")))},Ot=17280,St={Unknown:"Unknown",InQueue:"InQueue",VotingPeriod:"VotingPeriod",GracePeriod:"GracePeriod",Aborted:"Aborted",Passed:"Passed",Failed:"Failed",ReadyForProcessing:"ReadyForProcessing"};function At(e){var t=Ot*e,n=Math.floor(t%31536e3/86400),a=Math.floor(t%31536e3%86400/3600),r=Math.floor(t%31536e3%86400%3600/60),s="";return s=n?"".concat(n," days"):s,s=a?"".concat(s," ").concat(a," hours"):s,s=r?"".concat(s," ").concat(r," minutes"):s}function Ct(e){switch(e.status){case St.InQueue:return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"subtext"},"Voting Begins: "),r.a.createElement("span",null,e.votingStarts?At(e.votingStarts):"-"));case St.VotingPeriod:return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"subtext"},"Voting Ends: "),r.a.createElement("span",null,e.votingEnds?At(e.votingEnds):"-"));case St.GracePeriod:return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"subtext"},"Grace Period Ends: "),r.a.createElement("span",null,e.gracePeriod?At(e.gracePeriod):"-"));case St.Passed:return r.a.createElement("span",{className:"subtext"},"Passed");case St.Failed:return r.a.createElement("span",{className:"subtext"},"Failed");case St.Aborted:return r.a.createElement("span",{className:"subtext"},"Aborted");case St.ReadyForProcessing:return r.a.createElement("span",{className:"subtext"},"Ready For Processing");default:return r.a.createElement(r.a.Fragment,null)}}var jt=function(e,t){return t<e.startingPeriod},Nt=function(e,t){return t>=e.startingPeriod+15&&t<e.startingPeriod+15+15},It=function(e,t){return t>=e.startingPeriod&&t<e.startingPeriod+15},Mt=function(e,t){return t>=e.startingPeriod+15+15};var Vt=n(418),Ft=n.n(Vt);function Rt(){var e=Object(y.a)(["\n  query Proposal($id: String!, $delegateKey: String!) {\n    proposal(id: $id) {\n      id\n      applicantAddress\n      memberAddress\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      yesVotes\n      noVotes\n      yesShares\n      noShares\n      proposalIndex\n      votes(first: 100) {\n        member {\n          id\n          shares\n        }\n        uintVote\n      }\n      details\n      startingPeriod\n      processed\n      status @client\n      title @client\n      description @client\n      gracePeriod @client\n      votingEnds @client\n      votingStarts @client\n      readyForProcessing @client\n    }\n    members(where: { delegateKey: $delegateKey }) {\n      id\n      shares\n      isActive\n      tokenTribute\n      delegateKey\n    }\n    exchangeRate @client\n    totalShares @client\n    guildBankValue @client\n    currentPeriod @client\n    proposalQueueLength @client\n  }\n"]);return Rt=function(){return e},e}var Dt=0,Tt=1,_t=2,Bt=function(e){var t=e.member;return r.a.createElement(M.a.Column,{mobile:4,tablet:3,computer:3,textAlign:"center",className:"member_avatar",title:t},r.a.createElement(k.b,{to:"/members/".concat(t),className:"uncolored"},r.a.createElement(nt.a,{src:wt.a,centered:!0}),r.a.createElement("p",{className:"name"},t?t.length>10?t.substring(0,10)+"...":t:"")))},Ut=w()(Rt()),qt=function(e){var t=e.loggedInUser,n=e.match,s=Object(a.useState)(),o=Object(u.a)(s,2),l=o[0],m=o[1];Object(a.useEffect)((function(){function e(){return(e=Object(c.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(t);case 2:n=e.sent,m(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}));var d=Object(a.useCallback)(function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:We(l.submitVote(t.proposalIndex,_t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l]),p=Object(a.useCallback)(function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:We(l.submitVote(t.proposalIndex,Tt));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l]),b=Object(a.useCallback)(function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:We(l.processProposal(t.proposalIndex));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l]),f=Object(g.b)(Ut,{variables:{id:n.params.id,delegateKey:t}}),y=f.loading,h=f.error,E=f.data;if(y)return r.a.createElement(I.a,{size:"massive",active:!0});if(h)throw new Error("Error!: ".concat(h));var v=E.proposal,x=E.exchangeRate,w=E.totalShares,k=E.guildBankValue,P=E.members,O=lt(w,k),S=P.length>0?P[0]:null,A=!!v.votes.find((function(e){return e.member.id===t})),C=v.aborted||A||v.status!==St.VotingPeriod||!(S&&S.shares)||!(S&&S.isActive);return r.a.createElement("div",{id:"proposal_detail"},r.a.createElement(M.a,{container:!0},r.a.createElement(M.a.Column,null,r.a.createElement(M.a.Row,null,r.a.createElement("span",{className:"title"},v.title?v.title:"N/A")),r.a.createElement(M.a.Row,null,r.a.createElement(Ft.a,{properties:{target:"_blank"}},r.a.createElement("div",{className:"subtext description wordwrap"},v.description?v.description:"N/A"))))),r.a.createElement(M.a,{container:!0,stackable:!0,columns:2,divided:!0},r.a.createElement(M.a.Column,null,r.a.createElement(M.a,{container:!0},r.a.createElement(M.a,{container:!0,stackable:!0,columns:2,doubling:!0},r.a.createElement(M.a.Column,null,r.a.createElement("p",{className:"subtext"},"Applicant/Beneficiary"),r.a.createElement(ht.a,{address:v.applicantAddress,displayFull:"true"})),r.a.createElement(M.a.Column,null,r.a.createElement("p",{className:"subtext"},"Proposer"),r.a.createElement(ht.a,{address:v.memberAddress,displayFull:"true",url:"".concat(window.location.host,"/members/").concat(v.memberAddress)}))),r.a.createElement(M.a.Row,{className:"tributes"},r.a.createElement(bt.a,{className:"pill",textAlign:"center"},r.a.createElement(R.a,{name:"ethereum"}),fe.utils.formatEther(v.tokenTribute)," ETH")),r.a.createElement(M.a.Row,null,r.a.createElement(M.a,{container:!0,columns:2},r.a.createElement(M.a.Column,null,r.a.createElement("p",{className:"subtext voting"},"Shares"),r.a.createElement("p",{className:"amount"},v.sharesRequested)),r.a.createElement(M.a.Column,{textAlign:"right"},r.a.createElement("p",{className:"subtext"},"Total USD Value"),r.a.createElement("p",{className:"amount"},ot(fe.utils.bigNumberify(v.sharesRequested).mul(O).toString(),x))))))),r.a.createElement(M.a.Column,null,r.a.createElement(M.a,{container:!0},r.a.createElement(M.a.Row,{textAlign:"center",className:"pill_column"},r.a.createElement(M.a.Column,{textAlign:"center",className:"pill_column"},r.a.createElement("span",{className:"pill"},Ct(v)))),r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Column,{className:"member_list"},v.votes.length>0?r.a.createElement(M.a,null,r.a.createElement(M.a.Row,{className:"members_row"},v.votes.map((function(e,t){return r.a.createElement(Bt,{member:e.member.id,shares:e.member.shares,key:t})})))):null)),r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Column,{textAlign:"center"},v.aborted?r.a.createElement("p",{className:"amount"},"Aborted"):r.a.createElement(Pt,{yes:v.yesShares,no:v.noShares}))),r.a.createElement(M.a.Row,null,r.a.createElement(M.a,{container:!0,stackable:!0,columns:3},r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement(T.a,{className:"btn",color:"green",disabled:C,onClick:function(){return p(v)}},"Vote Yes")),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement(T.a,{className:"btn",color:"red",disabled:C,onClick:function(){return d(v)}},"Vote No")),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement(T.a,{className:"btn",color:"grey",onClick:function(){return b(v)},disabled:v.status!==St.ReadyForProcessing},"Process Proposal"))))))))};function Lt(){var e=Object(y.a)(["\n  {\n    exchangeRate @client\n    totalShares @client\n    guildBankValue @client\n    currentPeriod @client\n    proposalQueueLength @client\n  }\n"]);return Lt=function(){return e},e}function Kt(){var e=Object(y.a)(["\n  query Member($address: String!) {\n    member(id: $address) {\n      id\n      votes {\n        uintVote\n        proposal {\n          id\n          timestamp\n          tokenTribute\n          sharesRequested\n          processed\n          didPass\n          aborted\n          yesVotes\n          noVotes\n          proposalIndex\n          details\n          status @client\n          title @client\n          description @client\n          gracePeriod @client\n          votingEnds @client\n          votingStarts @client\n          readyForProcessing @client\n        }\n      }\n    }\n  }\n"]);return Kt=function(){return e},e}function $t(){var e=Object(y.a)(["\n  query Member($address: String!) {\n    member(id: $address) {\n      id\n      shares\n      isActive\n      tokenTribute\n      delegateKey\n    }\n  }\n"]);return $t=function(){return e},e}var Ht=w()($t()),Wt=w()(Kt()),zt=w()(Lt()),Qt=function(e){var t=e.loggedInUser,n=e.memberAddress,a=e.shareValue,s=e.exchangeRate,o=Object(g.b)(Ht,{variables:{address:n}}),l=o.loading,i=o.error,c=o.data;if(l)return r.a.createElement(I.a,{size:"massive",active:!0});if(i)throw new Error(i);var u=c.member;return r.a.createElement(bt.a,{className:"blurred box"},r.a.createElement(M.a,{container:!0,columns:1},r.a.createElement(M.a.Row,null,r.a.createElement(M.a,{container:!0,columns:2},r.a.createElement(M.a.Column,null,r.a.createElement("p",{className:"subtitle"},"Shares"),r.a.createElement("p",{className:"amount"},u.shares)),r.a.createElement(M.a.Column,{textAlign:"right"},r.a.createElement("p",{className:"subtitle"},"Total Value"),r.a.createElement("p",{className:"amount"},ot(fe.utils.bigNumberify(u.shares).mul(a).toString(),s))))),r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Column,{textAlign:"center",className:"avatar"},r.a.createElement(nt.a,{centered:!0,src:t===u.id||t===u.delegateKey?vt.a:wt.a,size:"tiny"}))),r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Column,null,r.a.createElement("p",{className:"subtitle"},"Tribute"))),r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Column,null,r.a.createElement(bt.a,{className:"pill",textAlign:"center"},r.a.createElement(R.a,{name:"ethereum"}),fe.utils.formatEther(u.tokenTribute)," ETH"))),r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Column,null,r.a.createElement("p",{className:"subtitle"},"Delegate Key")),r.a.createElement(M.a.Column,null,r.a.createElement(ht.a,{address:u.delegateKey,displayFull:"true"},r.a.createElement("p",{className:"title"},u.delegateKey))))))},Gt=function(e){var t=e.memberAddress,n=Object(g.b)(Wt,{variables:{address:t}}),a=n.loading,s=n.error,o=n.data;if(a)return r.a.createElement(I.a,{size:"massive",active:!0});if(s)throw new Error(s);var l=o.member.votes;return r.a.createElement(bt.a,{className:"blurred box"},r.a.createElement(M.a,{columns:"equal",textAlign:"center"},r.a.createElement(M.a.Row,{className:"subtext",style:{fontSize:20}},"History")),r.a.createElement(M.a,{columns:"equal"},r.a.createElement(M.a.Row,{className:"header"},r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement("p",{className:"subtext"},"Proposal Title")),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement("p",{className:"subtext"},"Date")),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement("p",{className:"subtext"},"Shares Requested")),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement("p",{className:"subtext"},"Tribute Offered")),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement("p",{className:"subtext"},"Vote")),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement("p",{className:"subtext"},"Status"))),l&&l.length>0?l.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(M.a.Row,{verticalAlign:"middle"},r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement(k.b,{to:{pathname:"/proposals/".concat(e.proposal.id)},className:"uncolored"},e.uintVote===Tt&&r.a.createElement(ft.a,{className:"dot",circular:!0,color:"green",empty:!0}),(e.uintVote===_t||e.uintVote===Dt)&&r.a.createElement(ft.a,{className:"dot",circular:!0,color:"red",empty:!0}),e.proposal.title)),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement("p",{className:"subtext date"},new Date(1e3*e.proposal.timestamp).toISOString().slice(0,10))),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement("p",{className:"subtext date"},e.proposal.sharesRequested)),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement("p",{className:"subtext date"},fe.utils.formatEther(e.proposal.tokenTribute))),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement(yt.a,{as:"p",color:e.uintVote===Tt?"green":e.uintVote===_t?"red":null},e.uintVote===Tt?"Y":e.uintVote===_t?"N":"")),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement("p",{className:"subtext date"},Ct(e.proposal)))),r.a.createElement(pt.a,null))})):r.a.createElement(M.a.Row,{verticalAlign:"middle"},r.a.createElement(M.a.Column,{textAlign:"center"},"This member hasn't voted on any proposals yet."))))},Jt=function(e){var t=e.loggedInUser,n=e.match,a=Object(g.b)(zt),s=a.loading,o=a.error,l=a.data;if(s)return r.a.createElement(I.a,{size:"massive",active:!0});if(o)throw new Error(o);var i,c=l.totalShares,u=l.guildBankValue,m=l.exchangeRate,d=lt(c,u);return r.a.createElement("div",{id:"member_detail"},r.a.createElement(pt.a,null),r.a.createElement(M.a,{container:!0},r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Column,{mobile:16,tablet:16,computer:6},r.a.createElement("p",{className:"title"},r.a.createElement("a",{href:"https://etherscan.io/address/".concat(n.params.name),target:"_blank",rel:"noopener noreferrer"},(i=n.params.name,"".concat(i.substring(0,6),"...").concat(i.slice(-4))))))),r.a.createElement(M.a.Row,{className:"details"},r.a.createElement(M.a.Column,{mobile:16,tablet:16,computer:6,className:"user"},r.a.createElement(Qt,{loggedInUser:t,memberAddress:n.params.name,shareValue:d,exchangeRate:m})),r.a.createElement(M.a.Column,{mobile:16,tablet:16,computer:10,className:"proposals"},r.a.createElement(Gt,{memberAddress:n.params.name})))))};function Zt(){var e=Object(y.a)(["\n  {\n    members(\n      first: 100\n      where: { shares_gt: 0, shares_lt: 100, isActive: true }\n      orderBy: shares\n      orderDirection: desc\n    ) {\n      id\n      shares\n    }\n  }\n"]);return Zt=function(){return e},e}function Yt(){var e=Object(y.a)(["\n  {\n    members(\n      first: 100\n      where: { shares_gte: 100, isActive: true }\n      orderBy: shares\n      orderDirection: desc\n    ) {\n      id\n      shares\n    }\n  }\n"]);return Yt=function(){return e},e}var Xt=function(e){var t=e.address,n=e.shares;return r.a.createElement(M.a.Column,{mobile:5,tablet:3,computer:3,textAlign:"center",className:"member_avatar",title:t},r.a.createElement(ht.a,{address:t,noTheme:!0},r.a.createElement(k.b,{to:"/members/".concat(t),className:"uncolored"},r.a.createElement(nt.a,{src:wt.a,centered:!0,size:"tiny"}),r.a.createElement("p",{className:"name"},t?t.length>10?t.substring(0,10)+"...":t:""),r.a.createElement("p",{className:"subtext"},n," shares"))))},en=function(e){var t=e.loggedInUser,n=Object(g.b)(me,{variables:{address:t}}),a=n.loading,s=n.error,o=n.data;if(a)return"...";if(s)throw new Error(s);var l=o.member;return l&&l.isActive?r.a.createElement(ht.a,{address:t,noTheme:!0},r.a.createElement(k.b,{to:"/members/".concat(l.id),className:"uncolored"},r.a.createElement(nt.a,{centered:!0,src:vt.a,size:"tiny"}),r.a.createElement("p",{className:"name"},l.id?l.id.length>10?l.id.substring(0,10)+"...":l.id:""),r.a.createElement("p",{className:"subtext"},l.shares?l.shares:0," shares"))):r.a.createElement("div",null)},tn=w()(Yt()),nn=function(){var e=Object(g.b)(tn),t=e.loading,n=e.error,a=e.data;if(t)return"...";if(n)throw new Error(n);return a.members.length>0?a.members.map((function(e,t){return r.a.createElement(Xt,{address:e.id,shares:e.shares,key:t})})):r.a.createElement(r.a.Fragment,null,"No elders to show.")},an=w()(Zt()),rn=function(){var e=Object(g.b)(an),t=e.loading,n=e.error,a=e.data;if(t)return"...";if(n)throw new Error(n);return a.members.length>0?a.members.map((function(e,t){return r.a.createElement(Xt,{address:e.id,shares:e.shares,key:t})})):r.a.createElement(r.a.Fragment,null,"No contributors to show.")},sn=function(e){var t,n=Object(g.b)(pe),a=n.loading,s=n.error,o=n.data;return s?(t="NA",console.error("Could not load members: ".concat(s))):t=a?"-":o.members.length,r.a.createElement("div",{id:"member_list"},r.a.createElement(M.a,{columns:16,verticalAlign:"middle"},r.a.createElement(M.a.Column,{mobile:16,tablet:6,computer:6,textAlign:"left",className:"member_list_header"},r.a.createElement("p",{className:"subtext"},t," Members"))),r.a.createElement(M.a,null,r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement(en,e))),r.a.createElement(M.a,{className:"member_item"},r.a.createElement(M.a.Row,null,r.a.createElement("p",{style:{paddingLeft:"1rem"}},"Elders (100+ shares)")),r.a.createElement(pt.a,null),r.a.createElement(M.a.Row,{className:"members_row",centered:!0},r.a.createElement(nn,null))),r.a.createElement(M.a,{className:"member_item"},r.a.createElement(M.a.Row,null,r.a.createElement("p",{style:{paddingLeft:"1rem"}},"Contributors")),r.a.createElement(pt.a,null),r.a.createElement(M.a.Row,{className:"members_row",centered:!0},r.a.createElement(rn,null))))},on=function(e){return r.a.createElement(P.d,null,r.a.createElement(P.b,{exact:!0,path:"/members",render:function(t){return r.a.createElement(sn,Object.assign({},t,{loggedInUser:e.loggedInUser}))}}),r.a.createElement(P.b,{path:"/members/:name",render:function(t){return r.a.createElement(Jt,Object.assign({},t,{loggedInUser:e.loggedInUser}))}}))},ln=n(837),cn=n(829),un=n(838),mn=n(128);function dn(){var e=Object(y.a)(["\n  {\n    totalPoolShares @client\n    poolValue @client\n    exchangeRate @client\n    proposals(first: 1, where: { processed: true }, orderBy: proposalIndex, orderDirection: desc) {\n      proposalIndex\n    }\n    poolMetas {\n      currentPoolIndex\n      totalPoolShares\n    }\n  }\n"]);return dn=function(){return e},e}var pn=function(e){var t=e.disabled;return r.a.createElement(k.b,{to:"/pool-members",className:"link"},r.a.createElement(T.a,{color:"grey",size:"medium",fluid:!0,disabled:t},"Members"))},bn=function(e){var t=e.token,n=e.molochPool,s=e.loggedInUser,o=e.disabled,l=Object(a.useState)(""),m=Object(u.a)(l,2),d=m[0],p=m[1],b=Object(a.useState)(),f=Object(u.a)(b,2),y=f[0],g=f[1];Object(a.useEffect)((function(){function e(){return(e=Object(c.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"function"!==typeof t.balanceOf||!s){e.next=5;break}return e.next=3,t.balanceOf(s);case 3:n=e.sent,g(parseFloat(Object(ze.formatEther)(n)).toFixed(2));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,s]);var h=Object(a.useCallback)((function(){console.log("Calling molochPool.deposit with ",Object(ze.parseEther)(d)),We(n.deposit(Object(ze.parseEther)(d)))}),[d,n]);return r.a.createElement(ln.a,{trigger:r.a.createElement(T.a,{color:"grey",size:"medium",fluid:!0,disabled:o},"Donate"),basic:!0,size:"small",closeIcon:!0},r.a.createElement(yt.a,{content:"Donate to the Moloch Pool"}),r.a.createElement(ln.a.Content,null,r.a.createElement("p",null,"Thank you for your donation! Use the wETH Center to wrap and approve."),r.a.createElement(cn.a,{inverted:!0,labelPosition:"right",label:"".concat(y,"w").concat(mn.EtherSymbol),placeholder:"wETH to Donate",onChange:function(e){return p(e.target.value)},value:d})),r.a.createElement(ln.a.Actions,null,r.a.createElement(T.a,{color:"green",inverted:!0,onClick:h},r.a.createElement(R.a,{name:"checkmark"})," Donate")))},fn=function(e){var t=e.molochPool,n=e.lastProcessedProposalIndex,a=e.currentPoolIndex,s=e.loggedInUser,o=e.disabled,l=a>=n;return r.a.createElement(un.a,{inverted:!0,content:l?"Fully synced to current proposal ".concat(n):"Currently synced to ".concat(a),trigger:r.a.createElement(T.a,{compact:!0,color:"grey",size:"medium",fluid:!0,onClick:function(){We(t.sync(n))},disabled:l||!s||o},"Sync")})},yn=w()(dn());function gn(e){var t=e.loggedInUser,n=Object(a.useState)({}),s=Object(u.a)(n,2),o=s[0],l=s[1],m=Object(a.useState)({}),d=Object(u.a)(m,2),p=d[0],b=d[1];Object(a.useEffect)((function(){function e(){return(e=Object(c.a)(i.a.mark((function e(){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(t);case 2:return n=e.sent,e.next=5,Le(t);case 5:a=e.sent,l(n),b(a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,p]);var f=Object(g.b)(yn),y=f.loading,h=f.error,E=f.data;if(y)return r.a.createElement(I.a,{size:"massive",active:!0});if(h)throw new Error(h);var v=E.poolValue,x=E.exchangeRate,w=Object(u.a)(E.proposals,1)[0],k=E.poolMetas,P={currentPoolIndex:0,totalPoolShares:0},O=!0;k.length>0&&(P=k[0],O=!1);var S=P,A=S.currentPoolIndex,C=S.totalPoolShares,j=lt(C,v);return r.a.createElement("div",{id:"homepage"},r.a.createElement(M.a,{container:!0,verticalAlign:"middle",textAlign:"center"},r.a.createElement(M.a,{container:!0,doubling:!0,stackable:!0,columns:"equal",verticalAlign:"bottom"},r.a.createElement(M.a.Column,null,r.a.createElement(at.a,{inverted:!0},r.a.createElement(at.a.Label,null,"Moloch Pool Value"),r.a.createElement(at.a.Value,null,ot(v,x)))),r.a.createElement(M.a.Column,{width:9},r.a.createElement(M.a,{container:!0,stackable:!0,columns:3},r.a.createElement(M.a.Column,null,r.a.createElement(pn,{disabled:O})),r.a.createElement(M.a.Column,null,r.a.createElement(bn,{token:p,molochPool:o,loggedInUser:t,disabled:!t||O})),r.a.createElement(M.a.Column,null,r.a.createElement(fn,{lastProcessedProposalIndex:w?w.proposalIndex:0,currentPoolIndex:A,molochPool:o,loggedInUser:t,disabled:O}))))),r.a.createElement(M.a,{container:!0,stackable:!0,columns:3,className:"blurred box"},r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement(at.a,{inverted:!0,label:"Total Pool Shares",value:C})),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement(at.a,{inverted:!0,label:"Total Pool ETH",value:parseFloat(fe.utils.formatEther(v)).toFixed(2)})),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement(at.a,{inverted:!0,label:"Pool Share Value",value:ot(j,x)})))))}function hn(){var e=Object(y.a)(["\n  {\n    poolMembers(where: { shares_gt: 0 }, first: 100, orderBy: shares, orderDirection: desc) {\n      id\n      shares\n      keepers\n    }\n  }\n"]);return hn=function(){return e},e}var En=function(e){var t=e.address,n=e.shares;return r.a.createElement(M.a.Column,{mobile:5,tablet:3,computer:3,textAlign:"center",className:"member_avatar",title:t},r.a.createElement(ht.a,{address:t,noTheme:!0},r.a.createElement(k.b,{to:"/members/".concat(t),className:"uncolored"},r.a.createElement(nt.a,{src:wt.a,centered:!0,size:"tiny"}),r.a.createElement("p",{className:"name"},t?t.length>10?t.substring(0,10)+"...":t:""),r.a.createElement("p",{className:"subtext"},n," shares"))))},vn=function(e){var t=Object(g.b)(de,{variables:{address:e.loggedInUser}}),n=t.loading,a=t.error,s=t.data;if(n)return"...";if(a)throw new Error("Error!: ".concat(a));return s.member?r.a.createElement(k.b,{to:"/members/".concat(s.member.id),className:"uncolored"},r.a.createElement(nt.a,{centered:!0,src:vt.a,size:"tiny"}),r.a.createElement("p",{className:"name"},s.member.id?s.member.id.length>10?s.member.id.substring(0,10)+"...":s.member.id:""),r.a.createElement("p",{className:"subtext"},s.member.shares?s.member.shares:0," shares")):r.a.createElement("div",null)},xn=w()(hn()),wn=function(e){var t,n=Object(g.b)(xn),a=n.loading,s=n.error,o=n.data;return s?(t="NA",console.error("Could not load members: ".concat(s))):t=a?"-":o.poolMembers?o.poolMembers.length:0,r.a.createElement("div",{id:"member_list"},r.a.createElement(M.a,{columns:16,verticalAlign:"middle"},r.a.createElement(M.a.Column,{mobile:16,tablet:6,computer:6,textAlign:"left",className:"member_list_header"},r.a.createElement("p",{className:"subtext"},t," Members"))),r.a.createElement(M.a,null,r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement(vn,e))),r.a.createElement(M.a,{className:"member_item"},r.a.createElement(M.a.Row,null,r.a.createElement("p",{style:{paddingLeft:"1rem"}},"Pool Members")),r.a.createElement(pt.a,null),r.a.createElement(M.a.Row,{className:"members_row",centered:!0},o&&o.poolMembers&&o.poolMembers.length>0?o.poolMembers.map((function(e,t){return r.a.createElement(En,{address:e.id,shares:e.shares,key:t})})):r.a.createElement(r.a.Fragment,null,"No pool members to show."))))},kn=function(e){return r.a.createElement(P.d,null,r.a.createElement(P.b,{exact:!0,path:"/pool-members",render:function(t){return r.a.createElement(wn,Object.assign({},t,{loggedInUser:e.loggedInUser}))}}),r.a.createElement(P.b,{path:"/pool-members/:name",render:function(t){return r.a.createElement(Jt,Object.assign({},t,{loggedInUser:e.loggedInUser}))}}))},Pn=n(264),On=n(849);function Sn(){var e=Object(y.a)(["\n  query Member($delegateKey: String!) {\n    members(where: { delegateKey: $delegateKey }) {\n      id\n      shares\n      isActive\n      tokenTribute\n      delegateKey\n    }\n    exchangeRate @client\n    totalShares @client\n    guildBankValue @client\n    currentPeriod @client\n    proposalQueueLength @client\n  }\n"]);return Sn=function(){return e},e}function An(){var e=Object(y.a)(["\n  {\n    proposals(\n      first: 100\n      orderBy: proposalIndex\n      orderDirection: desc\n      where: { processed: false }\n    ) {\n      id\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      yesVotes\n      noVotes\n      yesShares\n      noShares\n      proposalIndex\n      votes(first: 100) {\n        member {\n          shares\n        }\n        uintVote\n      }\n      details\n      startingPeriod\n      processed\n      status @client\n      title @client\n      description @client\n      gracePeriod @client\n      votingEnds @client\n      votingStarts @client\n      readyForProcessing @client\n    }\n    exchangeRate @client\n    totalShares @client\n    guildBankValue @client\n    currentPeriod @client\n  }\n"]);return An=function(){return e},e}function Cn(){var e=Object(y.a)(["\n  query Feed($offset: Int, $limit: Int) {\n    proposals(\n      first: $limit\n      skip: $offset\n      orderBy: proposalIndex\n      orderDirection: desc\n      where: { processed: true }\n    ) {\n      id\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      yesVotes\n      noVotes\n      yesShares\n      noShares\n      proposalIndex\n      votes(first: 100) {\n        member {\n          shares\n        }\n        uintVote\n      }\n      details\n      startingPeriod\n      processed\n      status @client\n      title @client\n      description @client\n      gracePeriod @client\n      votingEnds @client\n      votingStarts @client\n      readyForProcessing @client\n    }\n  }\n"]);return Cn=function(){return e},e}var jn=function(e){var t=e.proposal,n=t.id;return r.a.createElement(M.a.Column,{mobile:16,tablet:8,computer:5},r.a.createElement(k.b,{to:{pathname:"/proposals/".concat(n)},className:"uncolored"},r.a.createElement(bt.a,{className:"blurred box"},r.a.createElement("p",{className:"name"},t.title?t.title:"N/A"),r.a.createElement("p",{className:"subtext description"},t.description?t.description:"N/A"),r.a.createElement(M.a,{columns:"equal",className:"value_shares"},r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement("p",{className:"subtext"},"Shares Requested"),r.a.createElement("p",{className:"amount"},t.sharesRequested)),r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement("p",{className:"subtext"},"Tribute ",r.a.createElement(R.a,{name:"ethereum"})),r.a.createElement("p",{className:"amount"},parseFloat(fe.utils.formatEther(t.tokenTribute)).toFixed(2))))),r.a.createElement(M.a,{columns:"equal",className:"deadlines"},r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement(bt.a,{className:"voting pill",textAlign:"center"},Ct(t))))),t.aborted?r.a.createElement(M.a,{columns:"equal",className:"deadlines"},r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Column,{textAlign:"center"},r.a.createElement("p",{className:"amount"},"Aborted")))):r.a.createElement(Pt,{yes:t.yesShares,no:t.noShares}))))},Nn=w()(Cn()),In=w()(An()),Mn=!1,Vn=function(e){var t=e.isActive,n=Object(g.b)(In),a=n.loading,s=n.error,o=n.data,l=Object(g.b)(Nn,{variables:{offset:0,limit:100},notifyOnNetworkStatusChange:!0}),i=l.loading,c=l.error,u=l.data,m=l.fetchMore;if(a)return r.a.createElement(I.a,{size:"massive",active:!0});if(s)throw new Error(s);if(c)throw new Error(c);var d=o.proposals,p=o.exchangeRate,b=o.totalShares,f=o.guildBankValue,y=lt(b,f),h=[];i||(h=u.proposals,Mn||(console.log("Loading more completed proposal records... offset: ".concat(u.proposals.length)),m({variables:{offset:u.proposals.length},updateQuery:function(e,t){var n=t.fetchMoreResult;return console.log("fetchMoreResult.proposals.length: ".concat(n.proposals.length,", prev.proposals.length: ").concat(e.proposals.length)),0===n.proposals.length&&(console.log("Finished loading"),Mn=!0),Object.assign({},e,{proposals:[].concat(Object(Pn.a)(e.proposals),Object(Pn.a)(n.proposals))})}})));var E=function(e,t){return t.proposalIndex-e.proposalIndex},v=d.filter((function(e){return e.status===St.GracePeriod})).sort(E),x=d.filter((function(e){return e.status===St.VotingPeriod})).sort(E),w=d.filter((function(e){return e.status===St.InQueue})).sort(E),P=d.filter((function(e){return e.status===St.ReadyForProcessing})).sort(E),O=[{menuItem:"Voting Period (".concat(x.length,")"),render:function(){return r.a.createElement(On.a.Pane,{attached:!1},r.a.createElement(M.a,{columns:3},x.map((function(e,t){return r.a.createElement(jn,{exchangeRate:p,shareValue:y,totalShares:+b,proposal:e,key:t})}))))}},{menuItem:"Grace Period (".concat(v.length,")"),render:function(){return r.a.createElement(On.a.Pane,{attached:!1},r.a.createElement(M.a,{columns:3},v.map((function(e,t){return r.a.createElement(jn,{exchangeRate:p,shareValue:y,totalShares:+b,proposal:e,key:t})}))))}},{menuItem:"Ready For Processing (".concat(P.length,")"),render:function(){return r.a.createElement(On.a.Pane,{attached:!1},r.a.createElement(M.a,{columns:3},P.map((function(e,t){return r.a.createElement(jn,{exchangeRate:p,shareValue:y,totalShares:+b,proposal:e,key:t})}))))}},{menuItem:"In Queue (".concat(w.length,")"),render:function(){return r.a.createElement(On.a.Pane,{attached:!1},r.a.createElement(M.a,{columns:3},w.map((function(e,t){return r.a.createElement(jn,{exchangeRate:p,shareValue:y,totalShares:+b,proposal:e,key:t})}))))}},{menuItem:"Completed (".concat(i?"...":h.length,")"),render:function(){return r.a.createElement(On.a.Pane,{attached:!1},i?r.a.createElement(I.a,{size:"massive",active:!0}):r.a.createElement(M.a,{columns:3},h.map((function(e,t){return r.a.createElement(jn,{exchangeRate:p,shareValue:y,totalShares:+b,proposal:e,key:t})}))))}}];return r.a.createElement("div",{id:"proposal_list"},r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{columns:16,verticalAlign:"middle"},r.a.createElement(M.a.Column,{mobile:16,tablet:8,computer:4,textAlign:"right",floated:"right",className:"submit_button"},r.a.createElement(k.b,{to:t?"/proposalsubmission":"/proposals",className:"link"},r.a.createElement(T.a,{size:"large",color:"red",disabled:!t},"New Proposal")))),r.a.createElement(On.a,{menu:{secondary:!0,pointing:!0},panes:O})))},Fn=w()(Sn()),Rn=function(e){var t=e.loggedInUser,n=Object(g.b)(Fn,{variables:{delegateKey:t}}),a=n.loading,s=n.error,o=n.data;if(a)return r.a.createElement(I.a,{size:"massive",active:!0});if(s)throw new Error(s);var l=o.members.length>0?o.members[0]:null;return r.a.createElement(P.d,null,r.a.createElement(P.b,{exact:!0,path:"/proposals",render:function(e){return r.a.createElement(Vn,Object.assign({},e,{isActive:!!l&&l.isActive}))}}),r.a.createElement(P.b,{path:"/proposals/:id",render:function(e){return r.a.createElement(qt,Object.assign({},e,{loggedInUser:t}))}}))},Dn=n(205),Tn=n(840),_n="1",Bn=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,beneficiaryApproved:!1,depositApproved:!1,open:!1},n.handleOpen=Object(c.a)(i.a.mark((function e(){var t,a,r,s,o,l,c,u,m,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.token,r=t.address,s=t.tribute,o=t.moloch,l=t.loggedInUser,t.valid){e.next=4;break}return alert("Please fill any missing fields."),e.abrupt("return");case 4:return n.setState({open:!0}),e.next=7,a.allowance(r,o.address);case 7:return c=e.sent,u=!1,c.gte(fe.utils.parseEther(s))&&(u=!0),e.next=12,a.allowance(l,o.address);case 12:m=e.sent,d=!1,m.gte(fe.utils.parseEther(_n))&&(d=!0),n.setState({beneficiaryApproved:u,depositApproved:d,loading:!1});case 16:case"end":return e.stop()}}),e)}))),n.handleClose=function(){n.setState({open:!1})},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loading,n=e.beneficiaryApproved,a=e.depositApproved,s=e.open,o=this.props,l=o.handleSubmit,i=o.submittedTx;return r.a.createElement(ln.a,{trigger:r.a.createElement(T.a,{size:"large",color:"red",onClick:this.handleOpen},"Submit Proposal"),basic:!0,size:"small",open:s},r.a.createElement(yt.a,{icon:"send",content:"Submit Proposal"}),r.a.createElement(ln.a.Content,null,r.a.createElement(Tn.a,null,r.a.createElement(Tn.a.Item,null,t?r.a.createElement(Tn.a.Icon,{name:"time"}):a?r.a.createElement(Tn.a.Icon,{name:"check circle"}):r.a.createElement(Tn.a.Icon,{name:"x"}),r.a.createElement(Tn.a.Content,null,_n," wETH Deposit Approved")),r.a.createElement(Tn.a.Item,null,t?r.a.createElement(Tn.a.Icon,{name:"time"}):n?r.a.createElement(Tn.a.Icon,{name:"check circle"}):r.a.createElement(Tn.a.Icon,{name:"x"}),r.a.createElement(Tn.a.Content,null,"Tribute Approved By Beneficiary")),r.a.createElement(Tn.a.Item,null,i?r.a.createElement(Tn.a.Icon,{name:"code"}):r.a.createElement(r.a.Fragment,null),r.a.createElement(Tn.a.Content,null,i?r.a.createElement("a",{href:"https://etherscan.io/tx/".concat(i.hash),target:"_blank",rel:"noopener noreferrer"},"View Transaction on Etherscan"):r.a.createElement(r.a.Fragment,null))))),r.a.createElement(ln.a.Actions,null,r.a.createElement(T.a,{basic:!0,color:"green",inverted:!0,onClick:l,disabled:i||!a||!n},r.a.createElement(R.a,{name:"check"})," Submit"),r.a.createElement(T.a,{basic:!0,color:"red",inverted:!0,onClick:this.handleClose},r.a.createElement(R.a,{name:"remove"})," Close")))}}]),t}(a.Component),Un=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={address:"",title:"",description:"",shares:"",tribute:"",fieldValidationErrors:{title:"",description:"",assets:"",shares:""},titleValid:!1,descriptionValid:!1,tributeValid:!1,sharesValid:!1,addressValid:!1,formValid:!1},n.validateField=function(e,t){var a=n.state,r=a.fieldValidationErrors,s=a.titleValid,o=a.descriptionValid,l=a.tributeValid,i=a.sharesValid,c=a.addressValid;switch(e){case"title":s=t&&""!==t,r.title=s?"":"Title is invalid";break;case"address":c=fe.utils.isHexString(t),console.log("utils.isHexString(value): ",fe.utils.isHexString(t)),console.log("value: ",t),r.address=c?"":"Address is invalid";break;case"description":o=""!==t,r.description=o?"":"Description is invalid";break;case"shares":i=t>0,r.shares=i?"":"Shares is invalid";break;case"tribute":l=t>=0,r.tribute=l?"":"Tribute is invalid"}n.setState({fieldValidationErrors:r,titleValid:s,descriptionValid:o,tributeValid:l,sharesValid:i,addressValid:c},n.validateForm)},n.validateForm=function(){var e=n.state,t=e.titleValid,a=e.descriptionValid,r=e.sharesValid,s=e.tributeValid,o=e.addressValid;n.setState({formValid:t&&a&&r&&s&&o})},n.handleInput=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(Dn.a)({},e.target.name,e.target.value),(function(){n.validateField(t,a)}))},n.handleSubmit=Object(c.a)(i.a.mark((function e(){var t,a,r,s,o,l,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state,a=t.moloch,r=t.address,s=t.title,o=t.description,l=t.shares,c=t.tribute;try{console.log("Submitting proposal: ",r,fe.utils.parseEther(c).toString(),l,JSON.stringify({title:s,description:o})),We(a.submitProposal(r,fe.utils.parseEther(c),l,JSON.stringify({title:s,description:o})))}catch(i){console.error(i),alert("Error processing proposal")}n.setState({submittedTx:void 0});case 3:case"end":return e.stop()}}),e)}))),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.loggedInUser,e.next=3,_e(t);case 3:return n=e.sent,e.next=6,Le(t);case 6:a=e.sent,this.setState({moloch:n,token:a});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.shares,n=e.tribute,a=e.title,s=e.description,o=e.address,l=e.token,i=e.formValid,c=e.moloch,u=e.titleValid,m=e.descriptionValid,d=e.sharesValid,p=e.tributeValid,b=e.addressValid,f=e.submittedTx,y=this.props.loggedInUser;return r.a.createElement("div",{id:"proposal_submission"},r.a.createElement(D.a,null,r.a.createElement(M.a,{centered:!0,columns:16},r.a.createElement(M.a.Row,{stretched:!0},r.a.createElement(M.a.Column,{mobile:16,tablet:16,computer:12},r.a.createElement(cn.a,{name:"title",transparent:!0,size:"big",inverted:!0,placeholder:"Proposal Title",onChange:this.handleInput,value:a,error:!u}),r.a.createElement(pt.a,null))),r.a.createElement(M.a.Row,{stretched:!0},r.a.createElement(M.a.Column,{mobile:16,tablet:16,computer:12},r.a.createElement(bt.a,{className:"blurred box"},r.a.createElement(D.a.Input,{name:"address",label:"Beneficiary or Applicant",placeholder:"Address",fluid:!0,onChange:this.handleInput,value:o,error:!b}),r.a.createElement(D.a.Input,{name:"shares",label:"Shares Requested",placeholder:"Shares",fluid:!0,type:"number",onChange:this.handleInput,value:t,error:!d}),r.a.createElement(D.a.Input,{name:"tribute",label:"Tribute Offered (in ETH)",placeholder:"ETH",fluid:!0,type:"number",onChange:this.handleInput,value:n,error:!p})))),r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Column,{mobile:16,tablet:16,computer:12},r.a.createElement(M.a,{columns:"equal"},r.a.createElement(M.a.Column,null,r.a.createElement(bt.a,{className:"blurred box"},r.a.createElement(D.a.TextArea,{name:"description",label:"Description",placeholder:"Type here",rows:15,onChange:this.handleInput,value:s,error:!m})))))),r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Column,{mobile:16,tablet:8,computer:8,className:"submit_button"},r.a.createElement(Bn,{valid:i,tribute:n,address:o,token:l,moloch:c,loggedInUser:y,handleSubmit:this.handleSubmit,submittedTx:f}))))))}}]),t}(a.Component),qn=function(e){var t=e.children;return r.a.createElement("div",{id:"wrapper"},t)};function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Kn(){var e=Object(y.a)(["\n        fragment getMeta on Proposal {\n          status\n          title\n          description\n          gracePeriod\n          votingEnds\n          votingStarts\n          readyForProcessing\n        }\n      "]);return Kn=function(){return e},e}var $n={Query:{guildBankValue:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:return t=e.sent,e.next=5,t.balanceOf("0xF181Dedc661C4885A541AEC572d6b9d0a9518A6e");case 5:return n=e.sent.toString(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),totalShares:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e();case 2:return t=e.sent,e.next=5,t.totalShares();case 5:return n=e.sent.toString(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),currentPeriod:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e();case 2:return t=e.sent,e.next=5,t.getCurrentPeriod();case 5:return n=e.sent.toString(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),exchangeRate:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e();case 2:return t=e.sent,e.next=5,t.compute();case 5:return n=e.sent[0],e.abrupt("return",Object(ze.bigNumberify)(n).toString());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),proposalQueueLength:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e();case 2:return t=e.sent,e.next=5,t.getProposalQueueLength();case 5:return n=e.sent.toString(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),totalPoolShares:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue();case 2:return t=e.sent,e.next=5,t.totalPoolShares();case 5:return n=e.sent.toString(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),poolValue:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:return t=e.sent,e.next=5,t.balanceOf("0xAce85C64D7a89A1fe6d9c9926a761B64EdF9295b");case 5:return n=e.sent.toString(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},Proposal:{status:function(e,t,n){return function(e,t){return e.startingPeriod=+e.startingPeriod,e.processed&&e.aborted?St.Aborted:e.processed&&e.didPass?St.Passed:e.processed&&!e.didPass?St.Failed:Nt(e,t)?St.GracePeriod:It(e,t)?St.VotingPeriod:jt(e,t)?St.InQueue:Mt(e,t)?St.ReadyForProcessing:St.Unknown}(e,+n.cache.readQuery({query:ue}).currentPeriod)},title:function(e){try{var t=JSON.parse(e.details);return""===t.title?"N/A":t.title||e.details||""}catch(n){return"{\title:Member Proposal: DCInvestor,description:https://paper.dropbox.com/doc/MGP3-ETH2.0-Test-Runner--AcFiUF_av4SF5CHOuS4qSH0WAg-DZu4VRgbP1LZeUimS1k3L}"===e.details?"Moloch Grant Proposal: ETH 2.0 Test Runner":"{title:Member Proposal: Anon,description:https://etherpad.net/p/anon_moloch_proposal}"===e.details?"Member Proposal: Anon":(console.log("Could not parse title from proposal.proposalIndex: ".concat(e.proposalIndex," proposal.details: ").concat(e.details)),e.details||"")}},description:function(e){try{return JSON.parse(e.details).description||""}catch(t){return"{\title:Member Proposal: DCInvestor,description:https://paper.dropbox.com/doc/MGP3-ETH2.0-Test-Runner--AcFiUF_av4SF5CHOuS4qSH0WAg-DZu4VRgbP1LZeUimS1k3L}"===e.details?"https://paper.dropbox.com/doc/MGP3-ETH2.0-Test-Runner--AcFiUF_av4SF5CHOuS4qSH0WAg-DZu4VRgbP1LZeUimS1k3L":"{title:Member Proposal: Anon,description:https://etherpad.net/p/anon_moloch_proposal}"===e.details?"https://paper.dropbox.com/doc/Moloch-Membership-Proposal-Anon--AikVeiZ0g9W9RmVffxagvno1AQ-9iJOOAxRinM6KwWWKSJpG":(console.log("Could not parse description from proposal.proposalIndex: ".concat(e.proposalIndex," proposal.details: ").concat(e.details)),"")}},gracePeriod:function(e,t,n){var a=n.cache.readQuery({query:ue}).currentPeriod;return Nt(e,a)?+e.startingPeriod+15+15-a:0},votingEnds:function(e,t,n){var a=n.cache.readQuery({query:ue}).currentPeriod;return It(e,a)?e.startingPeriod+15-a:0},votingStarts:function(e,t,n){var a=n.cache.readQuery({query:ue}).currentPeriod;return jt(e,a)?e.startingPeriod-a:0},readyForProcessing:function(e,t,n){var a=n.cache.readQuery({query:ue}).currentPeriod;return!(!Mt(e,a)||e.processed)}},Mutation:{setAttributes:function(e,t,n){var a=n.cache,r="Proposal:".concat(t.id),s=w()(Kn()),o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(n,!0).forEach((function(t){Object(Dn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a.readFragment({fragment:s,id:r}),{status:t.status,title:t.title,description:t.description,gracePeriod:t.gracePeriod,votingEnds:t.votingEnds,votingStarts:t.votingStarts,readyForProcessing:t.readyForProcessing});return a.writeData({id:r,data:o}),o}}};function Hn(){var e=Object(y.a)(["\n  extend type Proposal {\n    status: String\n    title: String\n    description: String\n    gracePeriod: Number\n    votingEnds: Number\n    votingStarts: Number\n    readyForProcessing: Bool\n  }\n\n  extend type Query {\n    proposalsWithStatus: [Proposal]\n    guildBankValue: String\n    totalShares: String\n    currentPeriod: String\n    exchangeRate: String\n    proposalQueueLength: String\n    totalPoolShares: String\n    poolValue: String\n  }\n"]);return Hn=function(){return e},e}var Wn=w()(Hn());function zn(){var e=Object(y.a)(["\n  query IsUserLoggedIn {\n    loggedInUser @client\n  }\n"]);return zn=function(){return e},e}console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_MOLOCH_ADDRESS:"0xA49378Ff39518F2A6fdCcDB5cE7d63711a3FaF99",REACT_APP_MEDIANIZER_ADDRESS:"0x729D19f657BD0614b4985Cf1D82531c67569197B",REACT_APP_TOKEN_ADDRESS:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",REACT_APP_GRAPH_NODE_URI:"https://api.thegraph.com/subgraphs/name/h4x3rotab/meme-dao",REACT_APP_ETH_URL:"https://mainnet.infura.io/v3/0d95263c871942eca1056bd0faf65e2b",REACT_APP_GUILD_BANK_ADDRESS:"0xF181Dedc661C4885A541AEC572d6b9d0a9518A6e",REACT_APP_MOLOCH_POOL_ADDRESS:"0xAce85C64D7a89A1fe6d9c9926a761B64EdF9295b",REACT_APP_DEPOSIT_WETH:"1"}));var Qn=new h.a,Gn=new E.a({cache:Qn,link:new v.a({uri:"https://api.thegraph.com/subgraphs/name/h4x3rotab/meme-dao"}),resolvers:$n,typeDefs:Wn,connectToDevTools:!0});Qn.writeData({data:{loggedInUser:window.localStorage.getItem("loggedInUser")||""}}),Gn.onResetStore((function(){return Qn.writeData({data:{loggedInUser:""}})}));var Jn=w()(zn()),Zn=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(b.a)(t).call(this,e))).state={menuSize:"huge",itemStyle:{}},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleOnScreenUpdated()}},{key:"handleOnScreenUpdated",value:function(){var e=window.innerWidth||document.documentElement.clientWidth;this.setState((function(t){return{menuSize:e>640?"huge":"small",itemStyle:{paddingBottom:e>640?"0":"20px"}}}))}},{key:"render",value:function(){var e=this;return r.a.createElement(A.a,{onUpdate:function(){return e.handleOnScreenUpdated()}},r.a.createElement(C.a,{fixed:"bottom",size:this.state.menuSize,inverted:!0,widths:4},r.a.createElement(j.a,null,r.a.createElement(C.a.Item,{header:!0},r.a.createElement(k.b,{to:"/",style:this.state.itemStyle},"\u4e00\u672cDAO")),r.a.createElement(C.a.Item,null,r.a.createElement(k.b,{to:"/members",style:this.state.itemStyle},"Members")),r.a.createElement(C.a.Item,null,r.a.createElement(k.b,{to:"/proposals",style:this.state.itemStyle},"Proposals")),r.a.createElement(C.a.Item,null,r.a.createElement(k.b,{to:"/pool",style:this.state.itemStyle},"Pool")))))}}]),t}(r.a.Component),Yn=function(){var e=Object(g.b)(Jn),t=e.loading,n=e.error,a=e.data;if(t)return r.a.createElement(N.a,{active:!0},r.a.createElement(I.a,{size:"massive"}));if(n)throw new Error(n);var s=a.loggedInUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,null),r.a.createElement(M.a,{container:!0},r.a.createElement(M.a.Row,null,r.a.createElement(tt,{loggedInUser:s,client:Gn})),r.a.createElement(M.a.Row,null,r.a.createElement(qn,null,r.a.createElement(P.d,null,r.a.createElement(P.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(dt,Object.assign({},e,{loggedInUser:s}))}}),r.a.createElement(P.b,{path:"/proposals",render:function(e){return r.a.createElement(Rn,Object.assign({},e,{loggedInUser:s}))}}),r.a.createElement(P.b,{path:"/members",render:function(e){return r.a.createElement(on,Object.assign({},e,{loggedInUser:s}))}}),r.a.createElement(P.b,{path:"/proposalsubmission",render:function(e){return s?r.a.createElement(Un,Object.assign({},e,{loggedInUser:s})):r.a.createElement(P.a,{to:{pathname:"/"}})}}),r.a.createElement(P.b,{path:"/pool",component:function(e){return r.a.createElement(gn,Object.assign({},e,{loggedInUser:s}))}}),r.a.createElement(P.b,{path:"/pool-members",render:function(e){return r.a.createElement(kn,Object.assign({},e,{loggedInUser:s}))}}),r.a.createElement(P.b,{component:function(e){return r.a.createElement(dt,Object.assign({},e,{loggedInUser:s}))}}))))),r.a.createElement(Zn,null),r.a.createElement(S.a.Provider,{ref:function(e){return window.toastProvider=e}}))},Xn=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],s=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gn.query({query:Jn});case 3:if(t=e.sent,!(n=t.data.loggedInUser)||!Gn){e.next=8;break}return e.next=8,ve(Gn,n);case 8:e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(0),console.error(e.t0),window.localStorage.setItem("loggedInUser",""),e.next=16,Gn.resetStore();case 16:return e.prev=16,s(!0),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,10,16,19]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n?r.a.createElement(O.b,{client:Gn},r.a.createElement(k.a,{basename:""},r.a.createElement(Yn,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(V,null),r.a.createElement(N.a,{active:!0},r.a.createElement(I.a,{size:"massive"})))};n(816),n(817);o.a.render(r.a.createElement(Xn,null),document.getElementById("root"))},94:function(e,t,n){e.exports=n.p+"static/media/hood.ba69d28c.png"}},[[445,1,2]]]);
//# sourceMappingURL=main.5f42f83b.chunk.js.map